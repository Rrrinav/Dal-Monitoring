<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Drone Camera PWA</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container">
        <h1>Camera</h1>

        <div class="video-container">
            <video id="video" autoplay playsinline></video>
            <div id="captureOverlay"></div>
        </div>

        <div class="status-panel">
            <div class="status-item"><span>Camera:</span> <span id="cameraStatus">...</span></div>
            <div class="status-item"><span>Trigger:</span> <span id="buttonStatus">...</span></div>
            <div class="status-item"><span>Network:</span> <span id="networkStatus">...</span></div>
            <div class="status-item"><span>Queue:</span> <span id="queueStatus">...</span></div>
            <div class="status-item"><span>Location:</span> <span id="locationStatus">...</span></div>
            <div class="status-item"><span>Motion:</span> <span id="motionStatus">Idle</span></div>
        </div>

        <div class="controls">
            <button id="retryCamera" class="btn">Retry Camera</button>
            <button id="simulateTrigger" class="btn">Manual Capture</button>
            <button id="startMotion" class="btn">Start Motion Detection</button>
            <button id="clearQueue" class="btn btn-danger">Clear Queue</button>
        </div>

        <div class="settings-panel">
            <div class="setting-item">
                <label for="captureMode">Capture Mode:</label>
                <select id="captureMode">
                    <option value="both" selected>Both</option>
                    <option value="manual">Manual Only</option>
                    <option value="motion">Motion Only</option>
                </select>
            </div>
            <div class="setting-item">
                <label for="thresholdInput">Motion Threshold:</label>
                <input type="number" id="thresholdInput" value="0.5" step="0.01" min="0.01">
            </div>
            <div class="setting-item">
                <label for="cooldownInput">Still Cooldown (ms):</label>
                <input type="number" id="cooldownInput" value="2500" step="100" min="500">
            </div>
        </div>

        <div class="queue-panel">
            <h3>Upload Queue</h3>
            <div id="sessionReport" class="session-report">Session uploads: 0</div>
            <div id="queueList"></div>
        </div>
    </div>

    <audio id="silentAudio" src="silence.mp3" loop></audio>

    <script src="app.js"></script>
</body>

</html>
